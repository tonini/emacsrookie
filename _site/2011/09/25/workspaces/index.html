<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <meta name="description" content="">
    <meta name="author" content="Samuel Tonini">

    <link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="/css/application.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="/css/code.css" type="text/css" media="screen, projection" />

    <title>Workspaces EmacsRookie</title>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-2950562-2']);
      _gaq.push(['_trackPageview']);

      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>
  <body>
    <div id="container">
      <nav id="main_nav">
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/about">About</a></li>
        </ul>
      </nav>

      <header id="topbar">
        <a href="/"><h1>emacs<span class="emacs">rookie</span></h1></a>
        <h2>Hints about the powerful emacs text editor</h2>
      </header>

      <div id="main" role="main">
        

<article class="post">
  <header>
    <h2><span class="hint">Hint #2</span>September 25, 2011</h2>
    <h1>Workspaces</h1>
  </header>
  <p>Perspective is an emacs package by <a href="http://nex-3.com/">Nathan Weizenbaum</a>, which offers the
possibility of working with different workspaces. If you are used to a
windows manager (like Fluxbox, Gnome, KDE etc. for instance), you
know the advantages of switching between several desktops or setting up
different desktops for your purposes.</p>

<p>In my daily grind I switch often between projects, fixing a bug
there or reading some source codes here. This possibility of working this way is extremely helpful.
It&rsquo;s hard imagining not to be able to use it.</p>

<p>Perspective gives you tagged workspaces and because each perspective
(workspace) is composed of a window configuration and a set of
buffers, switching to a perspective will only make the buffers
available which belong to it.</p>

<h3>How to use it straight ahead?</h3>

<p>First you have to install perspective, you get the source on
<a href="http://github.com/nex3/perspective-el">Github</a>.</p>

<p>Then you need to put the perspective.el file somewhere in your <code>load-path</code>
and add the following to your <code>~/.emacs</code> file.</p>

<div class="highlight"><pre><code class="scheme"><span class="c1">;; Load Perspective</span>
<span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;perspective</span><span class="p">)</span>
<span class="c1">;; Toggle the perspective mode</span>
<span class="p">(</span><span class="nf">persp-mode</span><span class="p">)</span>
</code></pre>
</div>


<p>From now on you are ready to go. Perspective is easy to use and you
will be familiar with its functionality in no time.</p>

<p>What you will use mostly are <code>persp-switch</code>. With this function you
switch to the perspective you want, if the specified perspective
doesn&rsquo;t exist, it will create a new one and switch to it.</p>

<p>Sometimes you need to rename a perspective and for this action use the function
 <code>persp-rename</code>.</p>

<p>Another useful function is <code>persp-add-buffer</code>, just
add a buffer to your chosen perspective. The vice-versa function of
it is <code>persp-remove-buffer</code>.</p>

<h3>More functions</h3>

<p><code>pesp-kill</code> just kill a not anymore used perspective.</p>

<p><code>persp-import</code> import a perspective from another frame.</p>

<h3>Some customization</h3>

<p>Yves Senn, a friend of mine did a great job customizing
perspective. He defined a macro which takes two arguments : the <code>name</code> for the
perspective and the <code>body</code> which contains the code that will be evaluated after creating
the perspective. So what you can do now is to define your custom
function using the macro.</p>

<div class="highlight"><pre><code class="scheme"><span class="p">(</span><span class="nf">defmacro</span> <span class="nv">custom-persp</span> <span class="p">(</span><span class="nf">name</span> <span class="nv">&amp;rest</span> <span class="nv">body</span><span class="p">)</span>
       <span class="o">`</span><span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">initialize</span> <span class="p">(</span><span class="nb">not </span><span class="p">(</span><span class="nf">gethash</span> <span class="o">,</span><span class="nv">name</span> <span class="nv">perspectives-hash</span><span class="p">)))</span>
              <span class="p">(</span><span class="nf">current-perspective</span> <span class="nv">persp-curr</span><span class="p">))</span>
          <span class="p">(</span><span class="nf">persp-switch</span> <span class="o">,</span><span class="nv">name</span><span class="p">)</span>
          <span class="p">(</span><span class="nf">when</span> <span class="nv">initialize</span> <span class="o">,@</span><span class="nv">body</span><span class="p">)</span>
          <span class="p">(</span><span class="nf">setq</span> <span class="nv">persp-last</span> <span class="nv">current-perspective</span><span class="p">)))</span>
</code></pre>
</div>


<p>For instance, create a <code>@org</code>
named perspective and open the first agenda file.</p>

<div class="highlight"><pre><code class="scheme"><span class="p">(</span><span class="nf">defun</span> <span class="nv">custom-persp/org</span> <span class="p">()</span>
  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">custom-persp</span> <span class="s">&quot;@org&quot;</span>
  <span class="p">(</span><span class="nf">find-file</span> <span class="p">(</span><span class="nf">first</span> <span class="nv">org-agenda-files</span><span class="p">))))</span>
</code></pre>
</div>


<p>At last, just create a key binding for the function.</p>

<div class="highlight"><pre><code class="scheme"><span class="p">(</span><span class="nf">global-set-key</span> <span class="p">(</span><span class="nf">kbd</span> <span class="s">&quot;C-p o&quot;</span><span class="p">)</span> <span class="ss">&#39;custom-persp/org</span><span class="p">)</span>
</code></pre>
</div>


<p>You find the whole source in the <a href="https://github.com/senny/emacs-configs/blob/master/private/extensions/perspectives.el">emacs-configs</a> repository from Yves Senn.</p>

<h3>Summary</h3>

<p>Perspective is definitly a well written package</p>

<p>I recommend reading through the Perspective source and make yourself
more familiar with whats going on beyond all these functions.</p>

  <div id="social_buttons">
   <!-- AddThis Button BEGIN -->
   <div class="addthis_toolbox addthis_default_style ">
     <a class="addthis_button_preferred_1"></a>
     <a class="addthis_button_preferred_2"></a>
     <a class="addthis_button_preferred_3"></a>
     <a class="addthis_button_preferred_4"></a>
     <a class="addthis_button_compact"></a>
     <a class="addthis_counter addthis_bubble_style"></a>
   </div>
   <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4e9d23cf15ea8768"></script>
   <!-- AddThis Button END -->
  </div>

  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'emacsrookie';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</article>


      </div>

      <footer id="copyright">
        <p>&copy; 2011 emacsrookie.com, All Rights Reserved.</p>
        <p class="rss">
          <a href ="http://feeds.feedburner.com/emacsrookiecom">
            <img src="/images/feed-16x16.png" alt="RSS Feed">
          </a>
        </p>
      </footer>
    </div>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-2950562-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
  </body>
</html>
